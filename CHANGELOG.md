# 更新日志

## 2025-12-20 更新

### 新增功能

#### 1. 目标群体画像功能
- **位置**：设置面板中新增"目标群体画像"卡片
- **功能描述**：用户可以自主填写目标受众的详细特征，AI在分析时会考虑这些信息
- **包含字段**：
  - 人口统计特征（年龄、地域、学历等）
  - 兴趣爱好
  - 痛点需求
  - 消费习惯
  - 媒体偏好
- **AI集成**：分析prompt中已集成目标群体画像信息，提供更精准的分析结果

#### 2. 一键重置功能
- **位置**：主界面顶部操作按钮区域
- **功能描述**：一键清除所有数据，恢复到初始状态
- **重置内容**：
  - 用户画像数据
  - 系统设置
  - 历史记录
  - 案例数据库
  - 当前分析结果
  - 输入内容
- **安全机制**：带有确认对话框，防止误操作

### 品牌更新

#### 项目名称变更：choSense → EchoSense
- 更新了所有UI界面中的品牌名称
- 更新了localStorage存储键名（echosense_*）
- 更新了AI系统提示词中的名称
- 更新了文件导出名称前缀
- 更新了页面路由名称
- **数据迁移**：自动将旧的chosense_*数据迁移到新的echosense_*键下，确保用户数据不丢失

### 技术改进

#### 数据兼容性
- 添加了自动数据迁移逻辑
- 添加了新字段的向后兼容处理
- 确保旧版本用户数据平滑升级

#### 类型系统
- 扩展了UserSettings接口，添加targetAudience类型定义
- 更新了DEFAULT_SETTINGS默认值

### 文件修改清单

1. **类型定义**
   - `src/types/podcast.ts`：添加targetAudience字段定义

2. **组件更新**
   - `src/components/settings/SettingsPanel.tsx`：添加目标群体画像输入区域
   - `src/pages/PodcastAnalysis.tsx`：
     - 添加一键重置功能
     - 集成目标群体画像到AI分析
     - 添加数据迁移逻辑
     - 更新品牌名称
   - `src/components/database/CaseDatabasePanel.tsx`：更新导出文件名

3. **路由配置**
   - `src/routes.tsx`：更新页面名称

### 用户体验优化

- 目标群体画像提供了详细的占位符文本，引导用户填写
- 一键重置按钮使用警示色，并有明确的确认提示
- 所有新功能都有相应的Toast提示反馈
- 数据迁移过程对用户透明，无需手动操作

### 注意事项

- 一键重置操作不可恢复，请谨慎使用
- 目标群体画像会影响AI分析结果，建议认真填写
- 旧版本的localStorage数据会自动迁移，无需担心数据丢失
